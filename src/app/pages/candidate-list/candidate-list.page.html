<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Filter Candidates</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="filterForm">
        <p>Last Active</p>
        <select formControlName="lastActive">
          <option value="">Any</option>
          <option value="this week">This Week</option>
          <option value="this month">This Month</option>
        </select>

        <p>Location</p>
        <input type="text" formControlName="location" />

        <p>Qualification</p>
        <input type="text" formControlName="qualification" />

        <p>English Requirement</p>
        <input type="text" formControlName="english" />

        <p>Candidate Skills</p>
        <input type="text" formControlName="skills" />

        <p>Experience (Min)</p>
        <select formControlName="experience">
          <option value="">Any</option>
          <option value="0">Fresher</option>
          <option value="1">1+ Year</option>
          <option value="3">3+ Years</option>
        </select>

        <ion-button expand="block" (click)="resetFilters()">Reset Filters</ion-button>
      </form>
    </ion-card-content>
  </ion-card>

  <!-- Display Candidates -->
  <ion-card *ngFor="let candidate of displayedCandidates">
    <ion-card-header>
      <ion-card-title>{{ candidate.name }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Qualification:</strong> {{ candidate.title_of_education }}</p>
      <p><strong>Experience:</strong> 
        {{ candidate.have_experience === 'Yes' ? candidate.year_of_experience + ' years' : 'Fresher' }}
      </p>
      <p><strong>Skills:</strong> {{ candidate.skills?.join(', ') }}</p>
      <p><strong>Location:</strong> {{ candidate.city }}</p>
      <p><strong>English:</strong> {{ candidate.english_proficiency }}</p>
      <p><strong>Joined:</strong> {{ candidate.joined | date:'mediumDate' }}</p>
    </ion-card-content>
  </ion-card>

  <!-- Pagination -->
  <div class="pagination-buttons ion-text-center" *ngIf="totalPages > 1">
    <ion-button size="small" (click)="prevPage()" [disabled]="currentPage === 1">Previous</ion-button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <ion-button size="small" (click)="nextPage()" [disabled]="currentPage === totalPages">Next</ion-button>
  </div>
</ion-content>
